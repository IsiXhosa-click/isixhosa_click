{%- import "macros.html" as macros -%}

<!DOCTYPE html>
<html lang="en-ZA">
<head>
    <title>{{ word.english }} - {{ word.xhosa }} - IsiXhosa Live Dictionary</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="og:type" content="website"/>
    <meta name="og:title" content="Live Dictionary"/>
    <meta name="og:url" content="https://isixhosa.xyz/word/{{- word.word_id -}}"/>
    <meta name="og:site_name" content="IsiXhosa.xyz"/>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/details.css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans"/>
</head>

<body>
    <h1>IsiXhosa Live Dictionary</h1>

    <main>
        <article>
            <header>
                <h2>{{ word.english }} - {{ word.xhosa }}</h2>
            </header>

            <div class="column_list spaced_flex_list">
                {# This div prevents the table from expanding to the width of the whole page #}
                <div>
                    <table>
                        <caption>Word information</caption>

                        <tbody>
                            <tr>
                                <th scope="row">Part of speech</th>
                                <td>{{ word.part_of_speech }}</td>
                            </tr>

                            {%- if word.part_of_speech == PartOfSpeech::Noun -%}
                                <tr>
                                    <th scope="row">Plural</th>
                                    <td>
                                        {%- if word.is_plural -%}
                                            Yes
                                        {%- else -%}
                                            No
                                        {%- endif -%}
                                    </td>
                                </tr>
                            {%- endif -%}

                            {%- match word.noun_class -%}
                                {%- when Some with (class) -%}
                                    <tr>
                                        <th scope="row">Noun class</th>
                                        <td>{%- call macros::noun_class_prefix(word.is_plural, class) -%}</td>
                                    </tr>
                                {%- when None -%}
                            {%- endmatch -%}

                            {%- if !word.infinitive.is_empty() -%}
                                <tr>
                                    <th scope="row">Infinitive</th>
                                    <td>{{ word.infinitive }}</td>
                                </tr>
                            {%- endif -%}

                            {%- if !word.xhosa_tone_markings.is_empty() -%}
                                <tr>
                                    <th scope="row">Xhosa with tone markings</th>
                                    <td>{{ word.xhosa_tone_markings }}</td>
                                </tr>
                            {%- endif -%}

                            {%- if !word.note.is_empty() -%}
                                <tr>
                                    <th scope="row">Note (extra information)</th>
                                    <td>{{ word.note }}</td>
                                </tr>
                            {%- endif -%}
                        </tbody>
                    </table>
                </div>

                {%- if !word.examples.is_empty() -%}
                    <div>
                        <table>
                            <caption>Examples</caption>

                            <thead>
                                <tr>
                                    <th scope="col">English</th>
                                    <th scope="col">Xhosa</th>
                                </tr>
                            </thead>

                            <tbody>
                                {%- for ex in word.examples -%}
                                    <tr>
                                        <td>{{ ex.english }}</td>
                                        <td>{{ ex.xhosa }}</td>
                                    </tr>
                                {%- endfor -%}
                            </tbody>
                        </table>
                    </div>
                {%- endif -%}

                {%- if !word.linked_words.is_empty() -%}
                    <div>
                        <table>
                            <caption>Linked words</caption>

                            <thead>
                                <tr>
                                    <th scope="col">Link type</th>
                                    <th scope="col">Other word</th>
                                </tr>
                            </thead>

                            <tbody>
                                {%- for link in word.linked_words -%}
                                    <tr>
                                        <td>{{ link.link_type }}</td>
                                        <td><a href="/word/{{ link.other.id }}">{%- call macros::format_result(link.other) -%}</a></td>
                                    </tr>
                                {%- endfor -%}
                            </tbody>
                        </table>
                    </div>
                {%- endif -%}
            </div>
        </article>
    </main>
</body>

</html>